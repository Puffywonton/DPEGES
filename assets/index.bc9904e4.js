(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const W=(e,t,r,n,s)=>{const a=[{letter:"A",cepMin:0,cepMax:69,egesMin:0,egesMax:5,color:"#329837"},{letter:"B",cepMin:70,cepMax:109,egesMin:6,egesMax:10,color:"#57af37"},{letter:"C",cepMin:110,cepMax:179,egesMin:11,egesMax:29,color:"#c6d300"},{letter:"D",cepMin:180,cepMax:249,egesMin:30,egesMax:49,color:"#f2e500"},{letter:"E",cepMin:250,cepMax:329,egesMin:50,egesMax:69,color:"#ffcb03"},{letter:"F",cepMin:330,cepMax:419,egesMin:70,egesMax:99,color:"#f39739"},{letter:"G",cepMin:420,cepMax:1e3,egesMin:100,egesMax:1e3,color:"#e4251f"}];let i=.6,c=document.getElementById(e);c.style.height=t+"px",c.style.width=r+"px";let o=document.createElement("div");o.classList.add("main-container");let m=document.createElement("span");m.style.width=r*i+"px",m.style.fontSize=t/45+"px",m.classList.add("top-legend"),m.innerHTML="logement tr\xE8s performant",o.appendChild(m);let l=document.createElement("div");l.classList.add("container-bars"),l.style.width=r*i+"px";let g=40;for(let d of a){let u=document.createElement("div");u.classList.add("container-bar"),u.style.width=g+"%",g=g+10,l.append(u);let S=document.createElement("span");S.innerHTML=d.letter,S.classList.add("bar-letter");let P=12,$="stroke:none";if(n>=d.cepMin&&n<=d.cepMax&&s<=d.egesMax||s>=d.egesMin&&s<=d.egesMax&&n<=d.cepMax){S.classList.add("bar-letter-focus"),u.style.height=P*1.6+"%",u.style.fontSize=t/5+"px",$="stroke:black";let h=document.createElement("div");h.classList.add("bar-info-focus"),h.style.width=r*(1-i)-4+"px",h.style.left="-"+(r*(1-i)-4)+"px",u.appendChild(h);let w=document.createElement("div");w.style.fontSize=r/45+"px",w.classList.add("focus-dpe-info");let E=document.createElement("span");E.classList.add("span"),E.style.fontSize=t/13+"px",E.innerHTML=n,w.appendChild(E);let C=document.createElement("span");C.classList.add("focus-legend"),C.innerHTML=`
                    kWh/m<sup>2</sup>.an
                `,w.appendChild(C),h.appendChild(w);let x=document.createElement("div");x.style.fontSize=r/45+"px",x.classList.add("focus-ges-info");let b=document.createElement("span");b.classList.add("span"),b.style.fontSize=t/13+"px",b.innerHTML=s,x.appendChild(b);let M=document.createElement("span");M.classList.add("focus-legend"),M.innerHTML=`
                  kgCO<sub>2</sub>/m<sup>2</sup>.an  
                `,x.appendChild(M),h.appendChild(x)}else u.style.height=P+"%",u.style.fontSize=t/10+"px";u.insertAdjacentHTML("afterbegin",`
            <svg 
                width='100%' 
                height='100%' 
                viewBox="700 0 100 100" 
                style='background-color: white'
                preserveAspectRatio="xMaxYMax meet"
            >
                <path 
                    d="M1 1 L 780 1 L 797 50 L 780 99 L 1 99 Z" 
                    vector-effect="non-scaling-stroke" 
                    style="`+$+";stroke-width:3;fill:"+d.color+`"/>
            </svg>
            `),u.appendChild(S)}let f=document.createElement("span");f.style.width=r*(1-i)-7+"px",f.style.height=t/5+"px",f.style.fontSize=t/45+"px",f.classList.add("side-legend"),f.innerHTML="passoire \xE9nerg\xE9tique",o.appendChild(f);let y=document.createElement("span");y.style.width=r*i+"px",y.style.fontSize=t/45+"px",y.classList.add("bottom-legend"),y.innerHTML="logement extr\xEAmement consommateur d'\xE9nergie",o.appendChild(y),o.appendChild(l),c.childNodes.length!=0&&c.removeChild(c.firstElementChild),c.appendChild(o)};function X(){document.getElementById("createButton").addEventListener("click",t=>{let r=document.getElementById("dpeInput").value,n=document.getElementById("gesInput").value,s=document.getElementById("heightInput").value,a=document.getElementById("widthInput").value;W("DepGes",s,a,r,n)})}const k="application/font-woff",B="image/jpeg",J={woff:k,woff2:k,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:B,jpeg:B,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function Q(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function T(e){const t=Q(e).toLowerCase();return J[t]||""}function Y(e){return e.split(/,/)[1]}function R(e){return e.search(/^(data:)/)!==-1}function H(e,t){return`data:${t};base64,${e}`}async function U(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const s=await n.blob();return new Promise((a,i)=>{const c=new FileReader;c.onerror=i,c.onloadend=()=>{try{a(r({res:n,result:c.result}))}catch(o){i(o)}},c.readAsDataURL(s)})}const v={};function Z(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function I(e,t,r){const n=Z(e,t,r.includeQueryParams);if(v[n]!=null)return v[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let s;try{const a=await U(e,r.fetchRequestInit,({res:i,result:c})=>(t||(t=i.headers.get("Content-Type")||""),Y(c)));s=H(a,t)}catch(a){s=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;a&&(i=typeof a=="string"?a:a.message),i&&console.warn(i)}return v[n]=s,s}function N(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),s=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(s),t&&(n.href=t),s.href=e,s.href}const ee=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function p(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}function L(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function te(e){const t=L(e,"border-left-width"),r=L(e,"border-right-width");return e.clientWidth+t+r}function ne(e){const t=L(e,"border-top-width"),r=L(e,"border-bottom-width");return e.clientHeight+t+r}function re(e,t={}){const r=t.width||te(e),n=t.height||ne(e);return{width:r,height:n}}function V(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=r,n.crossOrigin="anonymous",n.decoding="sync",n.src=e})}async function se(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function ae(e,t,r){const n="http://www.w3.org/2000/svg",s=document.createElementNS(n,"svg"),a=document.createElementNS(n,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${r}`),s.setAttribute("viewBox",`0 0 ${t} ${r}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),s.appendChild(a),a.appendChild(e),se(s)}function ce(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function ie(e){return p(e).map(t=>{const r=e.getPropertyValue(t),n=e.getPropertyPriority(t);return`${t}: ${r}${n?" !important":""};`}).join(" ")}function oe(e,t,r){const n=`.${e}:${t}`,s=r.cssText?ce(r):ie(r);return document.createTextNode(`${n}{${s}}`)}function A(e,t,r){const n=window.getComputedStyle(e,r),s=n.getPropertyValue("content");if(s===""||s==="none")return;const a=ee();try{t.className=`${t.className} ${a}`}catch{return}const i=document.createElement("style");i.appendChild(oe(a,r,n)),t.appendChild(i)}function le(e,t){A(e,t,":before"),A(e,t,":after")}async function ue(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):V(t)}async function fe(e,t){const r=e.poster,n=T(r),s=await I(r,n,t);return V(s)}async function de(e,t){return e instanceof HTMLCanvasElement?ue(e):e instanceof HTMLVideoElement&&e.poster?fe(e,t):e.cloneNode(!1)}const pe=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function me(e,t,r){var n;const s=pe(e)&&e.assignedNodes?p(e.assignedNodes()):p(((n=e.shadowRoot)!==null&&n!==void 0?n:e).childNodes);return s.length===0||e instanceof HTMLVideoElement||await s.reduce((a,i)=>a.then(()=>_(i,r)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function ge(e,t){const r=t.style;if(!r)return;const n=window.getComputedStyle(e);n.cssText?(r.cssText=n.cssText,r.transformOrigin=n.transformOrigin):p(n).forEach(s=>{let a=n.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),r.setProperty(s,a,n.getPropertyPriority(s))})}function he(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function ye(e,t){if(e instanceof HTMLSelectElement){const r=t,n=Array.from(r.children).find(s=>e.value===s.getAttribute("value"));n&&n.setAttribute("selected","")}}function we(e,t){return t instanceof Element&&(ge(e,t),le(e,t),he(e,t),ye(e,t)),t}async function _(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>de(n,t)).then(n=>me(e,n,t)).then(n=>we(e,n))}const G=/url\((['"]?)([^'"]+?)\1\)/g,xe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Se=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ee(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function be(e){const t=[];return e.replace(G,(r,n,s)=>(t.push(s),r)),t.filter(r=>!R(r))}async function Le(e,t,r,n,s){try{const a=r?N(t,r):t,i=T(t);let c;if(s){const o=await s(a);c=H(o,i)}else c=await I(a,i,n);return e.replace(Ee(t),`$1${c}$3`)}catch{}return e}function Ce(e,{preferredFontFormat:t}){return t?e.replace(Se,r=>{for(;;){const[n,,s]=xe.exec(r)||[];if(!s)return"";if(s===t)return`src: ${n};`}}):e}function j(e){return e.search(G)!==-1}async function q(e,t,r){if(!j(e))return e;const n=Ce(e,r);return be(n).reduce((a,i)=>a.then(c=>Le(c,i,t,r)),Promise.resolve(n))}async function Me(e,t){var r;const n=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue("background");if(n){const s=await q(n,null,t);e.style.setProperty("background",s,e.style.getPropertyPriority("background"))}}async function ve(e,t){if(!(e instanceof HTMLImageElement&&!R(e.src))&&!(e instanceof SVGImageElement&&!R(e.href.baseVal)))return;const r=e instanceof HTMLImageElement?e.src:e.href.baseVal,n=await I(r,T(r),t);await new Promise((s,a)=>{e.onload=s,e.onerror=a,e instanceof HTMLImageElement?(e.srcset="",e.src=n):e.href.baseVal=n})}async function Re(e,t){const n=p(e.childNodes).map(s=>K(s,t));await Promise.all(n).then(()=>e)}async function K(e,t){e instanceof Element&&(await Me(e,t),await ve(e,t),await Re(e,t))}function Te(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(s=>{r[s]=n[s]}),e}const F={};async function D(e){let t=F[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},F[e]=t,t}async function O(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,a=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let c=i.replace(n,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),U(c,t.fetchRequestInit,({result:o})=>(r=r.replace(i,`url(${o})`),[i,o]))});return Promise.all(a).then(()=>r)}function z(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const o=s.exec(n);if(o===null)break;t.push(o[0])}n=n.replace(s,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(i,"gi");for(;;){let o=a.exec(n);if(o===null){if(o=c.exec(n),o===null)break;a.lastIndex=c.lastIndex}else c.lastIndex=a.lastIndex;t.push(o[0])}return t}async function Ie(e,t){const r=[],n=[];return e.forEach(s=>{if("cssRules"in s)try{p(s.cssRules||[]).forEach((a,i)=>{if(a.type===CSSRule.IMPORT_RULE){let c=i+1;const o=a.href,m=D(o).then(l=>O(l,t)).then(l=>z(l).forEach(g=>{try{s.insertRule(g,g.startsWith("@import")?c+=1:s.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:g,error:f})}})).catch(l=>{console.error("Error loading remote css",l.toString())});n.push(m)}})}catch(a){const i=e.find(c=>c.href==null)||document.styleSheets[0];s.href!=null&&n.push(D(s.href).then(c=>O(c,t)).then(c=>z(c).forEach(o=>{i.insertRule(o,s.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c.toString())})),console.error("Error inlining remote css file",a.toString())}}),Promise.all(n).then(()=>(e.forEach(s=>{if("cssRules"in s)try{p(s.cssRules||[]).forEach(a=>{r.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${s.href}`,a.toString())}}),r))}function Pe(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>j(t.style.getPropertyValue("src")))}async function $e(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=p(e.ownerDocument.styleSheets),n=await Ie(r,t);return Pe(n)}async function ke(e,t){const r=await $e(e,t);return(await Promise.all(r.map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return q(s.cssText,a,t)}))).join(`
`)}async function Be(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ke(e,t);if(r){const n=document.createElement("style"),s=document.createTextNode(r);n.appendChild(s),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function Ae(e,t={}){const{width:r,height:n}=re(e,t),s=await _(e,t,!0);return await Be(s,t),await K(s,t),Te(s,t),await ae(s,r,n)}function Fe(){document.getElementById("screenshotButton").addEventListener("click",t=>{console.log("hello");const r=document.getElementById("DepGes");Ae(r).then(function(n){var s=new Image;s.src=n,document.body.appendChild(s)}).catch(function(n){console.error("oops, something went wrong!",n)})})}document.querySelector("#app").innerHTML=`
    <div id="params" class="params">
        <div class="values-container">
            <div class="dpe-container">
                <span>valeur dpe</span>
                <input type="text" value="12" id="dpeInput"></input>
            </div>
            <div class="ges-container">
                <span>valeur ges</span>
                <input type="text" value="50" id="gesInput"></input>
            </div>
            <div class="size-container">
                <span>width</span>
                <input type="text" value="500" id="widthInput"></input>
                <span>height</span>
                <input type="text" value="600" id="heightInput"></input>
            </div>
        </div>
        <button id="createButton" class="create">create</button>
        <div>
            <span>SCREENSHOT</span>
            <button id="screenshotButton">CLICK</button>
        </div>
    </div>
    <div id="DepGes" class="depges"></div>
`;X();Fe();
