(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(oe,function(){return function r(n,o,s){var i=window,a="application/octet-stream",c=s||a,l=n,u=!o&&!s&&l,d=document.createElement("a"),m=function(f){return String(f)},h=i.Blob||i.MozBlob||i.WebKitBlob||m,b=o||"download",g,v;if(h=h.call?h.bind(i):Blob,String(this)==="true"&&(l=[l,c],c=l[0],l=l[1]),u&&u.length<2048&&(b=u.split("/").pop().split("?")[0],d.href=u,d.href.indexOf(u)!==-1)){var S=new XMLHttpRequest;return S.open("GET",u,!0),S.responseType="blob",S.onload=function(f){r(f.target.response,b,a)},setTimeout(function(){S.send()},0),S}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l))if(l.length>1024*1024*1.999&&h!==m)l=G(l),c=l.type||a;else return navigator.msSaveBlob?navigator.msSaveBlob(G(l),b):x(l);else if(/([\x80-\xff])/.test(l)){var E=0,M=new Uint8Array(l.length),ne=M.length;for(E;E<ne;++E)M[E]=l.charCodeAt(E);l=new h([M],{type:c})}g=l instanceof h?l:new h([l],{type:c});function G(f){var y=f.split(/[:;,]/),C=y[1],re=y[2]=="base64"?atob:decodeURIComponent,D=re(y.pop()),k=D.length,L=0,A=new Uint8Array(k);for(L;L<k;++L)A[L]=D.charCodeAt(L);return new h([A],{type:C})}function x(f,y){if("download"in d)return d.href=f,d.setAttribute("download",b),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),y===!0&&setTimeout(function(){i.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(f)&&(f="data:"+f.replace(/^data:([\w\/\-\+]+)/,a)),window.open(f)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=f),!0;var C=document.createElement("iframe");document.body.appendChild(C),!y&&/^data:/.test(f)&&(f="data:"+f.replace(/^data:([\w\/\-\+]+)/,a)),C.src=f,setTimeout(function(){document.body.removeChild(C)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(g,b);if(i.URL)x(i.URL.createObjectURL(g),!0);else{if(typeof g=="string"||g.constructor===m)try{return x("data:"+c+";base64,"+i.btoa(g))}catch{return x("data:"+c+","+encodeURIComponent(g))}v=new FileReader,v.onload=function(f){x(this.result)},v.readAsDataURL(g)}return!0}})})(X);const se=X.exports;const ie=()=>[{letter:"A",cepMin:0,cepMax:69,egesMin:0,egesMax:5,color:"#329837"},{letter:"B",cepMin:70,cepMax:109,egesMin:6,egesMax:10,color:"#57af37"},{letter:"C",cepMin:110,cepMax:179,egesMin:11,egesMax:29,color:"#c6d300"},{letter:"D",cepMin:180,cepMax:249,egesMin:30,egesMax:49,color:"#f2e500"},{letter:"E",cepMin:250,cepMax:329,egesMin:50,egesMax:69,color:"#ffcb03"},{letter:"F",cepMin:330,cepMax:419,egesMin:70,egesMax:99,color:"#f39739"},{letter:"G",cepMin:420,cepMax:1e3,egesMin:100,egesMax:1e3,color:"#e4251f"}],ae=(e,t,r,n,o,s)=>{if(e>=t&&e<=r&&n<=s||n>=o&&n<=s&&e<=s)return!0},ce=(e,t,r)=>{let n=document.createElement("span");n.innerHTML=e,n.classList.add("dpeGes-bar-letter");let o=t/10;return r&&(o=t/5,n.classList.add("dpeGes-bar-letter-focus")),n.style.fontSize=o+"px",n},F=(e,t)=>{const r={innerHtml:"logement tr\xE8s performant",alignItems:"end",color:"#329837"},n={innerHtml:"passoire \xE9nerg\xE9tique",alignItems:"start",color:"#e4251f"};let o={};e==="top"?o=r:e==="bottom"&&(o=n);let s=t/50,i=document.createElement("div");return i.classList.add("dpeGes-top-bottom-legend"),i.style.alignItems=o.alignItems,i.style.fontSize=s+"px",i.innerHTML=o.innerHtml,i.style.color=o.color,i},le=(e,t,r)=>{const n=ie();let o=10,s=36,i=document.createElement("div");i.classList.add("dpeGes-bars-container"),i.appendChild(F("top",r));for(let a of n)i.append(ue(s,a.color,e,a.cepMin,a.cepMax,t,a.egesMin,a.egesMax,a.letter,r)),s=s+o;return i.appendChild(F("bottom",r)),i},ue=(e,t,r,n,o,s,i,a,c,l)=>{let u=document.createElement("div");u.classList.add("dpeGes-bar-container");let d=!1,m="15";return ae(r,n,o,s,i,a)?(d=!0,m="30",u.style.height="22%"):u.style.height="11%",u.appendChild(de(e,m,t,c,l,d)),d&&u.appendChild(pe(r,s,l)),u},de=(e,t,r,n,o,s)=>{let i=document.createElement("div");return i.classList.add("dpeGes-arrow-container"),i.appendChild(fe(e,r,n,o,s)),i.appendChild(me(t,r,s)),i},fe=(e,t,r,n,o)=>{let s=document.createElement("div");return s.classList.add("dpeGes-arrow-body"),s.style.width=e+"%",s.style.backgroundColor=t,o&&(s.style.borderTop="solid 2px black",s.style.borderBottom="solid 2px black"),s.appendChild(ce(r,n,o)),s},me=(e,t,r)=>{let n=document.createElement("div");n.classList.add("dpeGes-arrow-tip"),n.style.width=e+"px";let o="none";return r&&(o="black"),n.insertAdjacentHTML("afterbegin",`
        <svg 
            height='100%'
            width='100%' 
            viewBox="0 0 100 100"
            preserveAspectRatio="none"
        >
            <path 
                d="M 0 0 L 97 50 L 0 100 " 
                vector-effect="non-scaling-stroke"
                style="stroke:`+o+";stroke-width:2;fill:"+t+`"
            />
        </svg>
        `),n},pe=(e,t,r)=>{let n=document.createElement("div");return n.classList.add("dpeGes-focus-legend-container"),n.appendChild(U("dpe",e,r)),n.appendChild(U("ges",t,r)),n},U=(e,t,r)=>{let n=r/53,o=r/48,s=r/12;const i={topInfoSpan:"consommation",bottomInfoSpan:"kWh/m<sup>2</sup>.an"},a={topInfoSpan:"\xE9missions",bottomInfoSpan:"kgCO<sub>2</sub>/m<sup>2</sup>.an"};let c={};e==="dpe"?c=i:e==="ges"&&(c=a);let l=document.createElement("div");l.classList.add("dpeGes-focus-dpeGes-legend-container");let u=document.createElement("span");u.innerHTML=c.bottomInfoSpan,u.classList.add("dpeGes-focus-dpeGes-legend-top-bottom-info"),u.style.fontSize=o+"px",l.appendChild(u);let d=document.createElement("span");d.classList.add("dpeGes-focus-dpeGes-legend-top-bottom-info"),d.style.fontSize=n+"px",d.innerHTML=c.topInfoSpan,l.appendChild(d);let m=document.createElement("span");return m.classList.add("dpeGes-focus-dpeGes-legend-value"),m.style.fontSize=s+"px",m.innerHTML=t,l.appendChild(m),l},he=({containerId:e,dpeValue:t,gesValue:r,stickerHeight:n})=>{let o=document.getElementById(e);o.classList.add("dpeGes-main-container"),o.style.height=n+"px",o.appendChild(le(t,r,n))},O="application/font-woff",H="image/jpeg",ge={woff:O,woff2:O,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:H,jpeg:H,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function we(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function B(e){const t=we(e).toLowerCase();return ge[t]||""}function ye(e){return e.split(/,/)[1]}function I(e){return e.search(/^(data:)/)!==-1}function K(e,t){return`data:${t};base64,${e}`}async function J(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const o=await n.blob();return new Promise((s,i)=>{const a=new FileReader;a.onerror=i,a.onloadend=()=>{try{s(r({res:n,result:a.result}))}catch(c){i(c)}},a.readAsDataURL(o)})}const T={};function be(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function P(e,t,r){const n=be(e,t,r.includeQueryParams);if(T[n]!=null)return T[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const s=await J(e,r.fetchRequestInit,({res:i,result:a})=>(t||(t=i.headers.get("Content-Type")||""),ye(a)));o=K(s,t)}catch(s){o=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;s&&(i=typeof s=="string"?s:s.message),i&&console.warn(i)}return T[n]=o,o}function Se(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),t&&(n.href=t),o.href=e,o.href}const Ee=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function w(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}function R(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function xe(e){const t=R(e,"border-left-width"),r=R(e,"border-right-width");return e.clientWidth+t+r}function Ce(e){const t=R(e,"border-top-width"),r=R(e,"border-bottom-width");return e.clientHeight+t+r}function Q(e,t={}){const r=t.width||xe(e),n=t.height||Ce(e);return{width:r,height:n}}function Le(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const p=16384;function Re(e){(e.width>p||e.height>p)&&(e.width>p&&e.height>p?e.width>e.height?(e.height*=p/e.width,e.width=p):(e.width*=p/e.height,e.height=p):e.width>p?(e.height*=p/e.width,e.width=p):(e.width*=p/e.height,e.height=p))}function $(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=r,n.crossOrigin="anonymous",n.decoding="sync",n.src=e})}async function ve(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Me(e,t,r){const n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${r}`),o.setAttribute("viewBox",`0 0 ${t} ${r}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),o.appendChild(s),s.appendChild(e),ve(o)}function Te(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Ie(e){return w(e).map(t=>{const r=e.getPropertyValue(t),n=e.getPropertyPriority(t);return`${t}: ${r}${n?" !important":""};`}).join(" ")}function Be(e,t,r){const n=`.${e}:${t}`,o=r.cssText?Te(r):Ie(r);return document.createTextNode(`${n}{${o}}`)}function V(e,t,r){const n=window.getComputedStyle(e,r),o=n.getPropertyValue("content");if(o===""||o==="none")return;const s=Ee();try{t.className=`${t.className} ${s}`}catch{return}const i=document.createElement("style");i.appendChild(Be(s,r,n)),t.appendChild(i)}function Pe(e,t){V(e,t,":before"),V(e,t,":after")}async function $e(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):$(t)}async function Ge(e,t){const r=e.poster,n=B(r),o=await P(r,n,t);return $(o)}async function De(e,t){return e instanceof HTMLCanvasElement?$e(e):e instanceof HTMLVideoElement&&e.poster?Ge(e,t):e.cloneNode(!1)}const ke=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function Ae(e,t,r){var n;const o=ke(e)&&e.assignedNodes?w(e.assignedNodes()):w(((n=e.shadowRoot)!==null&&n!==void 0?n:e).childNodes);return o.length===0||e instanceof HTMLVideoElement||await o.reduce((s,i)=>s.then(()=>Y(i,r)).then(a=>{a&&t.appendChild(a)}),Promise.resolve()),t}function Fe(e,t){const r=t.style;if(!r)return;const n=window.getComputedStyle(e);n.cssText?(r.cssText=n.cssText,r.transformOrigin=n.transformOrigin):w(n).forEach(o=>{let s=n.getPropertyValue(o);o==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),r.setProperty(o,s,n.getPropertyPriority(o))})}function Ue(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function Oe(e,t){if(e instanceof HTMLSelectElement){const r=t,n=Array.from(r.children).find(o=>e.value===o.getAttribute("value"));n&&n.setAttribute("selected","")}}function He(e,t){return t instanceof Element&&(Fe(e,t),Pe(e,t),Ue(e,t),Oe(e,t)),t}async function Y(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>De(n,t)).then(n=>Ae(e,n,t)).then(n=>He(e,n))}const Z=/url\((['"]?)([^'"]+?)\1\)/g,Ve=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ze=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function We(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function _e(e){const t=[];return e.replace(Z,(r,n,o)=>(t.push(o),r)),t.filter(r=>!I(r))}async function je(e,t,r,n,o){try{const s=r?Se(t,r):t,i=B(t);let a;if(o){const c=await o(s);a=K(c,i)}else a=await P(s,i,n);return e.replace(We(t),`$1${a}$3`)}catch{}return e}function qe(e,{preferredFontFormat:t}){return t?e.replace(ze,r=>{for(;;){const[n,,o]=Ve.exec(r)||[];if(!o)return"";if(o===t)return`src: ${n};`}}):e}function N(e){return e.search(Z)!==-1}async function ee(e,t,r){if(!N(e))return e;const n=qe(e,r);return _e(n).reduce((s,i)=>s.then(a=>je(a,i,t,r)),Promise.resolve(n))}async function Xe(e,t){var r;const n=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue("background");if(n){const o=await ee(n,null,t);e.style.setProperty("background",o,e.style.getPropertyPriority("background"))}}async function Ke(e,t){if(!(e instanceof HTMLImageElement&&!I(e.src))&&!(e instanceof SVGImageElement&&!I(e.href.baseVal)))return;const r=e instanceof HTMLImageElement?e.src:e.href.baseVal,n=await P(r,B(r),t);await new Promise((o,s)=>{e.onload=o,e.onerror=s,e instanceof HTMLImageElement?(e.srcset="",e.src=n):e.href.baseVal=n})}async function Je(e,t){const n=w(e.childNodes).map(o=>te(o,t));await Promise.all(n).then(()=>e)}async function te(e,t){e instanceof Element&&(await Xe(e,t),await Ke(e,t),await Je(e,t))}function Qe(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(o=>{r[o]=n[o]}),e}const z={};async function W(e){let t=z[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},z[e]=t,t}async function _(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let a=i.replace(n,"$1");return a.startsWith("https://")||(a=new URL(a,e.url).href),J(a,t.fetchRequestInit,({result:c})=>(r=r.replace(i,`url(${c})`),[i,c]))});return Promise.all(s).then(()=>r)}function j(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=o.exec(n);if(c===null)break;t.push(c[0])}n=n.replace(o,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(i,"gi");for(;;){let c=s.exec(n);if(c===null){if(c=a.exec(n),c===null)break;s.lastIndex=a.lastIndex}else a.lastIndex=s.lastIndex;t.push(c[0])}return t}async function Ye(e,t){const r=[],n=[];return e.forEach(o=>{if("cssRules"in o)try{w(o.cssRules||[]).forEach((s,i)=>{if(s.type===CSSRule.IMPORT_RULE){let a=i+1;const c=s.href,l=W(c).then(u=>_(u,t)).then(u=>j(u).forEach(d=>{try{o.insertRule(d,d.startsWith("@import")?a+=1:o.cssRules.length)}catch(m){console.error("Error inserting rule from remote css",{rule:d,error:m})}})).catch(u=>{console.error("Error loading remote css",u.toString())});n.push(l)}})}catch(s){const i=e.find(a=>a.href==null)||document.styleSheets[0];o.href!=null&&n.push(W(o.href).then(a=>_(a,t)).then(a=>j(a).forEach(c=>{i.insertRule(c,o.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a.toString())})),console.error("Error inlining remote css file",s.toString())}}),Promise.all(n).then(()=>(e.forEach(o=>{if("cssRules"in o)try{w(o.cssRules||[]).forEach(s=>{r.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${o.href}`,s.toString())}}),r))}function Ze(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>N(t.style.getPropertyValue("src")))}async function Ne(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=w(e.ownerDocument.styleSheets),n=await Ye(r,t);return Ze(n)}async function et(e,t){const r=await Ne(e,t);return(await Promise.all(r.map(o=>{const s=o.parentStyleSheet?o.parentStyleSheet.href:null;return ee(o.cssText,s,t)}))).join(`
`)}async function tt(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await et(e,t);if(r){const n=document.createElement("style"),o=document.createTextNode(r);n.appendChild(o),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function nt(e,t={}){const{width:r,height:n}=Q(e,t),o=await Y(e,t,!0);return await tt(o,t),await te(o,t),Qe(o,t),await Me(o,r,n)}async function rt(e,t={}){const{width:r,height:n}=Q(e,t),o=await nt(e,t),s=await $(o),i=document.createElement("canvas"),a=i.getContext("2d"),c=t.pixelRatio||Le(),l=t.canvasWidth||r,u=t.canvasHeight||n;return i.width=l*c,i.height=u*c,t.skipAutoScale||Re(i),i.style.width=`${l}`,i.style.height=`${u}`,t.backgroundColor&&(a.fillStyle=t.backgroundColor,a.fillRect(0,0,i.width,i.height)),a.drawImage(s,0,0,i.width,i.height),i}async function ot(e,t={}){return(await rt(e,t)).toDataURL()}const st=()=>new Date().toJSON().slice(0,19),it=()=>{let e=st(),t=document.getElementById("downloadButton");t.addEventListener("click",r=>{const n=document.getElementById("dpeGesDemoContainer");ot(n).then(function(o){se(o,e+"dpeGes.png")}).catch(function(o){alert("error"),console.error("oops, something went wrong!",o)})}),t.style.display="block"},q=(e,t,r,n)=>{let o=document.getElementById("dpeGesDemoContainer");o.childNodes.length!=0&&o.removeChild(o.firstElementChild),he({containerId:e,dpeValue:t,gesValue:r,stickerHeight:n}),it()};function at(){let e=document.getElementById("downloadButton");e.style.display="none",document.getElementById("createButton").addEventListener("click",r=>{r.preventDefault();let n=document.getElementById("dpeInput").value,o=document.getElementById("gesInput").value,s=document.getElementById("heightInput").value;q("dpeGesDemoContainer",n,o,s)}),q("dpeGesDemoContainer",12,50,600)}at();
